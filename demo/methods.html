<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Ubuntu, Cantarell, Oxygen, Droid Sans, Fira Sans, sans-serif;
        }
    </style>

    <script src="../dist/ooml.js"></script>
</head>

<body>
<main>
    <template ooml-class="Parent">
        <ooml-method name="hello">
            function() {
                alert('parent');
            }
        </ooml-method>

        <div></div>
    </template>

    <template ooml-class="Child extends Parent">
        <ooml-method name="hello">
            function(?{prop1, prop2}, ?repeat) {
                parent();
                console.log(prop1, prop2);
                if (repeat) {
                    self(undefined, false);
                }
            }
        </ooml-method>

        <ooml-method name="pushAll">
            function(Array origArray, Array ...otherArrays) {
                otherArrays.forEach(function(arrToPushAll) {
                    Array.prototype.push.apply(origArray, arrToPushAll);
                });
                return origArray;
            }
        </ooml-method>

        <div id="child"></div>
    </template>
    <div ooml-instantiate="Child child"></div>
</main>

<script>
    var ooml = new OOML.Namespace();

    for (var objectName in ooml.objects) {
        window[objectName] = ooml.objects[objectName];
    }
    for (var className in ooml.classes) {
        window[className] = ooml.classes[className];
    }
</script>
</body>

</html>
