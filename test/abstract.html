<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Ubuntu, Cantarell, Oxygen, Droid Sans, Fira Sans, sans-serif;
        }
    </style>

    <script src="../dist/ooml.js"></script>
</head>

<body>
<main>
    <template ooml-abstract-class="Animal">
        <ooml-property name="name" type="string|null">null</ooml-property>
        <ooml-property name="type" type="string|null">null</ooml-property>

        <ooml-abstract-factory>
            function(initState, classes) {
                return new classes[initState.type[0].toUpperCase() + initState.type.slice(1)](initState);
            }
        </ooml-abstract-factory>
    </template>

    <template ooml-class="Dog extends Animal">
        <dl>
            <dt>Name</dt>
            <dd>{{ this.name }}</dd>

            <dt>Type</dt>
            <dd>{{ this.type }}</dd>
        </dl>
    </template>

    <template ooml-class="Cat extends Animal">
        <dl>
            <dt>Name</dt>
            <dd>{{ this.name }}</dd>

            <dt>Type</dt>
            <dd>{{ this.type }}</dd>
        </dl>
    </template>

    <template ooml-class="Goat extends Animal">
        <dl>
            <dt>Name</dt>
            <dd>{{ this.name }}</dd>

            <dt>Type</dt>
            <dd>{{ this.type }}</dd>
        </dl>
    </template>

    <template ooml-class="Elephant extends Animal">
        <dl>
            <dt>Name</dt>
            <dd>{{ this.name }}</dd>

            <dt>Type</dt>
            <dd>{{ this.type }}</dd>
        </dl>
    </template>

    <template ooml-class="App">
        <div id="app">{ Animal this.animal }</div>
    </template>
    <div ooml-instantiate="App app"></div>
</main>

<script>
    var ooml = new OOML.Namespace('main');

    var app = ooml.objects.app;
    for (var className in ooml.classes) {
        window[className] = ooml.classes[className];
    }
</script>
</body>

</html>
